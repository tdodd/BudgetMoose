"use strict";var budgetMoose=angular.module("budgetMoose",["ngRoute"]).config(["$routeProvider","$locationProvider",function(e,o){o.html5Mode(!0),e.when("/",{template:"<root></root>"}).when("/budget",{template:"<income></income>"}).otherwise({redirectTo:"/"})}]);
"use strict";budgetMoose.component("budget",{templateUrl:"/app/budget/budget.html",bindings:{netIncome:"<"},controller:["$scope",function(e){e.savings=0,e.netIncome=0,e.expenses=[],e.invalidExpense=!1,this.$onInit=function(){e.netIncome=Math.round(this.netIncome/12),e.savings=Math.round(this.netIncome/12)},this.$onChanges=function(n){e.netIncome=Math.round(n.netIncome.currentValue/12),e.updateSavings()},e.addExpense=function(n,t){e.validateExpense(n,t)?(e.expenses.push({name:n,value:parseInt(t)}),e.savings-=t):(e.invalidExpense=!0,setTimeout(function(){e.invalidExpense=!1},2e3))},e.validateExpense=function(e,n){return"string"==typeof e&&(!isNaN(parseInt(n))&&(0!==e.length&&0!==n.length))},e.updateSavings=function(){if(e.savings=Math.round(this.netIncome),e.expenses.length>0){var n=!0,t=!1,s=void 0;try{for(var i,a=e.expenses[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)expense=i.value,e.savings-=expense.value}catch(e){t=!0,s=e}finally{try{!n&&a.return&&a.return()}finally{if(t)throw s}}}}}]});
"use strict";
"use strict";budgetMoose.component("income",{templateUrl:"/app/income/income.html",controller:["$scope",function(T){T.salary,T.taxesPaid=0,T.validSalary=!0,T.netIncome=0,T.taxBracket=0,T.calcIncome=function(R){T.validateSalary(R)?(T.taxBracket=T.getTaxBracket(R),T.netIncome=Math.round(T.getNetIncome(R)),T.taxesPaid=Math.round(R-T.netIncome)):T.validSalary=!1},T.validateSalary=function(T){return"number"==typeof parseInt(T)&&T.length>3},T.getTaxBracket=function(T){return T<FIRST_BRACKET?1:T>=FIRST_BRACKET&&T<SECOND_BRACKET?2:T>=SECOND_BRACKET&&T<THIRD_BRACKET?3:T>=THIRD_BRACKET&&T<FOURTH_BRACKET?4:5},T.getNetIncome=function(R){var e=T.getTaxBracket(R),A=R;return 1===e?A-=R*FIRST_TAX:2===e?(A-=FIRST_BRACKET*FIRST_TAX,A-=(R-FIRST_BRACKET)*SECOND_TAX):3===e?(A-=FIRST_BRACKET*FIRST_TAX,A-=(SECOND_BRACKET-FIRST_BRACKET)*SECOND_TAX,A-=(R-SECOND_BRACKET)*THIRD_TAX):4===e?(A-=FIRST_BRACKET*FIRST_TAX,A-=(SECOND_BRACKET-FIRST_BRACKET)*SECOND_TAX,A-=(THIRD_BRACKET-SECOND_BRACKET)*THIRD_TAX,A-=(R-THIRD_BRACKET)*FOURTH_TAX):(A-=FIRST_BRACKET*FIRST_TAX,A-=(SECOND_BRACKET-FIRST_BRACKET)*SECOND_TAX,A-=(THIRD_BRACKET-SECOND_BRACKET)*THIRD_TAX,A-=(FOURTH_BRACKET-THIRD_BRACKET)*FOURTH_TAX,A-=(R-FOURTH_BRACKET)*FIFTH_TAX),A-=A*CPP_TAX}}]});
"use strict";
"use strict";budgetMoose.component("root",{templateUrl:"/app/root/root.html",controller:["$scope",function(o){}]});
"use strict";budgetMoose.component("tax",{templateUrl:"/app/tax/tax.html",bindings:{taxBracket:"<",taxesPaid:"<",netIncome:"<"},controller:["$scope",function(t){this.$onInit=function(){t.netIncome=this.netIncome,t.taxBracket=this.taxBracket,t.taxesPaid=this.taxesPaid},this.$onChanges=function(e){t.netIncome=e.netIncome.currentValue,t.taxBracket=e.taxBracket.currentValue,t.taxesPaid=e.taxesPaid.currentValue}}]});
"use strict";var FIRST_BRACKET=45916,SECOND_BRACKET=91831,THIRD_BRACKET=142353,FOURTH_BRACKET=202800,FIRST_TAX=.15,SECOND_TAX=.205,THIRD_TAX=.26,FOURTH_TAX=.29,FIFTH_TAX=.33,CPP_TAX=.0495;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuanMiLCJidWRnZXQvYnVkZ2V0LmNvbXBvbmVudC5qcyIsImJ1ZGdldC9idWRnZXQuc3BlYy5qcyIsImluY29tZS9pbmNvbWUuY29tcG9uZW50LmpzIiwiaW5jb21lL2luY29tZS5zcGVjLmpzIiwicm9vdC9yb290LmNvbXBvbmVudC5qcyIsInRheC90YXguY29tcG9uZW50LmpzIiwidGF4L3RheC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImJ1ZGdldE1vb3NlIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJodG1sNU1vZGUiLCJ3aGVuIiwidGVtcGxhdGUiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiY29tcG9uZW50IiwidGVtcGxhdGVVcmwiLCJuZXRJbmNvbWUiLCIkc2NvcGUiLCJjb250cm9sbGVyIiwic2F2aW5ncyIsInRoaXMiLCIkb25Jbml0IiwiTWF0aCIsInJvdW5kIiwiJG9uQ2hhbmdlcyIsImNoYW5nZXMiLCJjdXJyZW50VmFsdWUiLCJhZGRFeHBlbnNlIiwibmFtZSIsInZhbHVlIiwidmFsaWRhdGVFeHBlbnNlIiwiZXhwZW5zZXMiLCJwdXNoIiwicGFyc2VJbnQiLCJzZXRUaW1lb3V0IiwiaW52YWxpZEV4cGVuc2UiLCJpc05hTiIsImxlbmd0aCIsInVwZGF0ZVNhdmluZ3MiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsInVuZGVmaW5lZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImV4cGVuc2UiLCJlcnIiLCJyZXR1cm4iLCJ0YXhlc1BhaWQiLCJzYWxhcnkiLCJ2YWxpZFNhbGFyeSIsImNhbGNJbmNvbWUiLCJ2YWxpZGF0ZVNhbGFyeSIsInRheEJyYWNrZXQiLCJnZXRUYXhCcmFja2V0IiwiZ2V0TmV0SW5jb21lIiwiRklSU1RfQlJBQ0tFVCIsIlNFQ09ORF9CUkFDS0VUIiwiVEhJUkRfQlJBQ0tFVCIsIkZPVVJUSF9CUkFDS0VUIiwiRklSU1RfVEFYIiwiU0VDT05EX1RBWCIsIlRISVJEX1RBWCIsIkZPVVJUSF9UQVgiLCJGSUZUSF9UQVgiLCJDUFBfVEFYIiwiYmluZGluZ3MiXSwibWFwcGluZ3MiOiJhQUlBLElBQU1BLFlBQWNDLFFBQVFDLE9BQU8sZUFBZ0IsWUFEbkRDLFFBQUEsaUJBQUEsb0JBQUEsU0FBQUMsRUFBQUMsR0FJRUEsRUFBQUMsV0FBQSxHQUdBRixFQUdDRyxLQUFBLEtBQUFDLFNBQUEsa0JBR0FELEtBQUEsV0FBQUMsU0FBQSxzQkFHQUMsV0FBQUMsV0FBQTthQ2xCSFYsWUFBWVcsVUFBVSxVQUR0QkMsWUFBQSwwQkFDQVosVUFDQ1ksVUFBQUEsS0FFQ0MsWUFBVyxTQUFBLFNBQUFDLEdBRVpDLEVBQUFBLFFBQWEsRUFHWkQsRUFBT0QsVUFBWSxFQURuQkMsRUFBT0UsWUFDUEYsRUFBT0QsZ0JBQVAsRUFLQUksS0FBS0MsUUFBVSxXQURmSixFQUFBRCxVQUFBTSxLQUFBQyxNQUFBSCxLQUFBSixVQUFBLElBQ0FDLEVBQUtJLFFBQVVDLEtBQUFDLE1BQVlILEtBQUFKLFVBQUEsS0FNM0JJLEtBQUtJLFdBQWEsU0FBU0MsR0FEM0JSLEVBQUFELFVBQUFNLEtBQUFDLE1BQUFFLEVBQUFULFVBQUFVLGFBQUEsSUFDQVQsRUFBS08saUJBV0xQLEVBQU9VLFdBQWEsU0FBU0MsRUFBTUMsR0FHN0JaLEVBQU9hLGdCQUFnQkYsRUFBTUMsSUFBbENaLEVBT09jLFNBQUFDLE1BSUxKLEtBQVFBLEVBRlRDLE1BQUFJLFNBQUFKLEtBQ3FCWixFQUFyQkUsU0FBQVUsSUFWRFosRUFBS0EsZ0JBQU9hLEVBS1hJLFdBQVcsV0FBUWpCLEVBQU9rQixnQkFBaUIsR0FBVSxPQXdCdkRsQixFQUFPYSxnQkFBa0IsU0FBU0YsRUFBTUMsR0FBeENaLE1BQUEsaUJBQU9hLEtBQ0ZNLE1BQUFILFNBQUFKLE1BQ2VB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QUFTQSxXQUFTQyxhQUNuQ1QsRUFBT0QsVUFBWVMsRUFBUVQsVUFBVVU7YUNoQnhDLElBQU1rQyxjQUFnQixNQUR0QkMsZUFBQSxNQUNNRCxjQUFnQixPQUNoQkMsZUFBaUIsT0FLakJHLFVBQVksSUFEbEJDLFdBQUEsS0FDTUQsVUFBWSxJQUNaQyxXQUFhLElBQ2JDLFVBQVksSUFLWkcsUUFBVSIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTWFpbiBhcHAgbW9kdWxlXG4vLyBidWRnZXRNb29zZSBjb21wb25lbnQgY29udGFpbnMgYWxsIG90aGVyIGFwcGxpY2F0aW9uIGNvbXBvbmVudHNcblxuLy8gUmVxdWlyZXMgbmdSb3V0ZSBmb3Igcm91dGluZ1xuY29uc3QgYnVkZ2V0TW9vc2UgPSBhbmd1bGFyLm1vZHVsZSgnYnVkZ2V0TW9vc2UnLCBbJ25nUm91dGUnXSlcblx0LmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cblx0XHQvLyBSZW1vdmUgaGFzaGJhbmcgZnJvbSBwYXRoc1xuXHRcdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcblxuXHRcdC8vIENvbmZpZ3VyZSBhbGwgYXBwIHJvdXRlc1xuXHRcdCRyb3V0ZVByb3ZpZGVyXG5cblx0XHRcdC8vIEhvbWVwYWdlXG5cdFx0XHQud2hlbignLycsIHsgdGVtcGxhdGU6ICc8cm9vdD48L3Jvb3Q+JyB9KVxuXG5cdFx0XHQvLyBCdWRnZXQgcGFnZVxuXHRcdFx0LndoZW4oJy9idWRnZXQnLCB7IHRlbXBsYXRlOiAnPGluY29tZT48L2luY29tZT4nIH0pXG5cblx0XHRcdC8vIFBhZ2Ugbm90IGZvdW5kXG5cdFx0XHQub3RoZXJ3aXNlKHsgcmVkaXJlY3RUbzogJy8nIH0pO1xuXG5cdH1dKTsiLCIvLyBidWRnZXQgY29tcG9uZW50XG5idWRnZXRNb29zZS5jb21wb25lbnQoJ2J1ZGdldCcsIHtcblx0dGVtcGxhdGVVcmw6ICcvYXBwL2J1ZGdldC9idWRnZXQuaHRtbCcsXG5cdGJpbmRpbmdzOiB7XG5cdFx0bmV0SW5jb21lOiAnPCdcblx0fSxcblx0Y29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcblxuXHRcdCRzY29wZS5zYXZpbmdzID0gMDtcblx0XHQkc2NvcGUubmV0SW5jb21lID0gMDtcblx0XHQkc2NvcGUuZXhwZW5zZXMgPSBbXTtcblx0XHQkc2NvcGUuaW52YWxpZEV4cGVuc2UgPSBmYWxzZTtcblxuXHRcdC8vIEluaXRpYWxpemUgYm91bmQgcHJvcGVydGllc1xuXHRcdHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdCRzY29wZS5uZXRJbmNvbWUgPSBNYXRoLnJvdW5kKHRoaXMubmV0SW5jb21lIC8gMTIpO1xuXHRcdFx0JHNjb3BlLnNhdmluZ3MgPSBNYXRoLnJvdW5kKHRoaXMubmV0SW5jb21lIC8gMTIpO1xuXHRcdH1cblxuXHRcdC8vIFdhdGNoIGJvdW5kIHByb3BlcnRpZXNcblx0XHR0aGlzLiRvbkNoYW5nZXMgPSBmdW5jdGlvbihjaGFuZ2VzKSB7XG5cdFx0XHQkc2NvcGUubmV0SW5jb21lID0gTWF0aC5yb3VuZChjaGFuZ2VzLm5ldEluY29tZS5jdXJyZW50VmFsdWUgLyAxMik7XG5cdFx0XHQkc2NvcGUudXBkYXRlU2F2aW5ncygpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFkZCBhbiBleHBlbnNlIHRvIHRoZSBsaXN0XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZXhwZW5zZVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSB0aGUgY29zdCBvZiB0aGUgZXhwZW5zZVxuXHRcdCAqL1xuXHRcdCRzY29wZS5hZGRFeHBlbnNlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblxuXHRcdFx0Ly8gVmFsaWRhdGUgSW5wdXRcblx0XHRcdGlmICghJHNjb3BlLnZhbGlkYXRlRXhwZW5zZShuYW1lLCB2YWx1ZSkpIHtcblxuXHRcdFx0XHQkc2NvcGUuaW52YWxpZEV4cGVuc2UgPSB0cnVlO1xuXG5cdFx0XHRcdC8vIFNob3cgdG9hc3QgZm9yIDNzXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyAkc2NvcGUuaW52YWxpZEV4cGVuc2UgPSBmYWxzZTsgfSwgMjAwMCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gQWRkIGV4cGVuc2Vcblx0XHRcdFx0JHNjb3BlLmV4cGVuc2VzLnB1c2goe1xuXHRcdFx0XHRcdCduYW1lJzogbmFtZSxcblx0XHRcdFx0XHQndmFsdWUnOiBwYXJzZUludCh2YWx1ZSlcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gU3VidHJhY3QgZXhwZW5zZSBmcm9tIG1vbnRobHkgc2F2aW5nc1xuXHRcdFx0XHQkc2NvcGUuc2F2aW5ncyAtPSB2YWx1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICpcdENoZWNrIGlmIGFuIGV4cGVuc2UncyBwYXJhbWV0ZXJzIGFyZSB2YWxpZFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIG5hbWUgb2YgdGhlIGV4cGVuc2Vcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgdGhlIGNvc3Qgb2YgdGhlIGV4cGVuc2Vcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBleHBlbnNlIGlzIHZhbGlkIGFuZCBmYWxzZSBvdGhlcndpc2Vcblx0XHQgKi9cblx0XHQkc2NvcGUudmFsaWRhdGVFeHBlbnNlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0XHRcdGlmICh0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRpZiAoaXNOYU4ocGFyc2VJbnQodmFsdWUpKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0aWYgKG5hbWUubGVuZ3RoID09PSAwIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlIHNhdmluZ3Mgd2hlbiBhbiBleHBlbnNlIGlzIGFkZGVkXG5cdFx0ICovXG5cdFx0JHNjb3BlLnVwZGF0ZVNhdmluZ3MgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0JHNjb3BlLnNhdmluZ3MgPSBNYXRoLnJvdW5kKHRoaXMubmV0SW5jb21lKTtcblxuXHRcdFx0aWYgKCRzY29wZS5leHBlbnNlcy5sZW5ndGggPiAwKSB7XG5cblx0XHRcdFx0Zm9yIChleHBlbnNlIG9mICRzY29wZS5leHBlbnNlcykge1xuXHRcdFx0XHRcdCRzY29wZS5zYXZpbmdzIC09IGV4cGVuc2UudmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1dXG5cbn0pOyIsIlwidXNlIHN0cmljdFwiOyIsIi8vIGluY29tZSBjb21wb25lbnRcbmJ1ZGdldE1vb3NlLmNvbXBvbmVudCgnaW5jb21lJywge1xuXHR0ZW1wbGF0ZVVybDogJy9hcHAvaW5jb21lL2luY29tZS5odG1sJyxcblx0Y29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcblxuXHRcdCRzY29wZS5zYWxhcnk7XG5cdFx0JHNjb3BlLnRheGVzUGFpZCA9IDA7XG5cdFx0JHNjb3BlLnZhbGlkU2FsYXJ5ID0gdHJ1ZTtcblx0XHQkc2NvcGUubmV0SW5jb21lID0gMDtcblx0XHQkc2NvcGUudGF4QnJhY2tldCA9IDA7XG5cblx0XHQvKipcblx0XHQgKiBDYWxjdWxhdGUgbmV0IGluY29tZSBmb3Igb3RoZXIgYnVkZ2V0IGZ1bmN0aW9uc1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHNhbGFyeSB0aGUgc2FsYXJ5IGlucHV0IHZhbHVlXG5cdFx0ICovXG5cdFx0JHNjb3BlLmNhbGNJbmNvbWUgPSBmdW5jdGlvbiAoc2FsYXJ5KSB7XG5cblx0XHRcdC8vIENoZWNrIGlmIGlucHV0IGlzIHZhbGlkXG5cdFx0XHRpZiAoISRzY29wZS52YWxpZGF0ZVNhbGFyeShzYWxhcnkpKSB7XG5cdFx0XHRcdCRzY29wZS52YWxpZFNhbGFyeSA9IGZhbHNlO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBHZXQgdGF4IGJyYWNrZXQgYW5kIG5ldCBpbmNvbWUsIGFuZCByb3VuZCB0byBuZWFyZXN0IGRvbGxhclxuXHRcdFx0XHQkc2NvcGUudGF4QnJhY2tldCA9ICRzY29wZS5nZXRUYXhCcmFja2V0KHNhbGFyeSk7XG5cdFx0XHRcdCRzY29wZS5uZXRJbmNvbWUgPSBNYXRoLnJvdW5kKCRzY29wZS5nZXROZXRJbmNvbWUoc2FsYXJ5KSk7XG5cdFx0XHRcdCRzY29wZS50YXhlc1BhaWQgPSBNYXRoLnJvdW5kKHNhbGFyeSAtICRzY29wZS5uZXRJbmNvbWUpO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2sgdGhlIHNhbGFyeSBpbnB1dCBpcyB2YWxpZFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHNhbGFyeSB0aGUgc2FsYXJ5IGlucHV0IHZhbHVlXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2FsYXJ5IGlzIHZhbGlkIGFuZCBmYWxzZSBvdGhlcndpc2Vcblx0XHQgKi9cblx0XHQkc2NvcGUudmFsaWRhdGVTYWxhcnkgPSBmdW5jdGlvbiAoc2FsYXJ5KSB7XG5cdFx0XHRyZXR1cm4gdHlwZW9mIChwYXJzZUludChzYWxhcnkpKSA9PT0gJ251bWJlcicgJiYgc2FsYXJ5Lmxlbmd0aCA+IDM7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogR2V0cyB0aGUgdGF4IGJyYWNrZXQgZm9yIGEgZ2l2ZW4gc2FsYXJ5LlxuXHRcdCAqIFx0KFNlZSAvYXBwL3RheC90YXgvc2VydmljZS5qcyBmb3IgYnJhY2tldCBhbmQgcGVyY2VudGFnZSBkZXRhaWxzKVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHNhbGFyeSB0aGUgZ3Jvc3MgaW5jb21lXG5cdFx0ICogQHJldHVybiB7bnVtYmVyfSB0aGUgdGF4IGJyYWNrZXQgZm9yIHRoZSBnaXZlbiBzYWxhcnlcblx0XHQgKi9cblx0XHQkc2NvcGUuZ2V0VGF4QnJhY2tldCA9IGZ1bmN0aW9uIChzYWxhcnkpIHtcblxuXHRcdFx0Ly8gRmlyc3QgQnJhY2tldFxuXHRcdFx0aWYgKHNhbGFyeSA8IEZJUlNUX0JSQUNLRVQpIHJldHVybiAxO1xuXG5cdFx0XHQvLyBTZWNvbmQgQnJhY2tldFxuXHRcdFx0ZWxzZSBpZiAoc2FsYXJ5ID49IEZJUlNUX0JSQUNLRVQgJiYgc2FsYXJ5IDwgU0VDT05EX0JSQUNLRVQpIHJldHVybiAyO1xuXG5cdFx0XHQvLyBUaGlyZCBCcmFja2V0XG5cdFx0XHRlbHNlIGlmIChzYWxhcnkgPj0gU0VDT05EX0JSQUNLRVQgJiYgc2FsYXJ5IDwgVEhJUkRfQlJBQ0tFVCkgcmV0dXJuIDM7XG5cblx0XHRcdC8vIEZvdXJ0aCBCcmFja2V0XG5cdFx0XHRlbHNlIGlmIChzYWxhcnkgPj0gVEhJUkRfQlJBQ0tFVCAmJiBzYWxhcnkgPCBGT1VSVEhfQlJBQ0tFVCkgcmV0dXJuIDQ7XG5cblx0XHRcdC8vIEZpZnRoIEJyYWNrZXRcblx0XHRcdGVsc2UgcmV0dXJuIDU7XG5cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDYWxjdWxhdGUgdGhlIG5ldCBpbmNvbWUgYWZ0ZXIgdGF4ZXMgZm9yIGEgZ2l2ZW4gc2FsYXJ5XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge251bWJlcn0gc2FsYXJ5IHRoZSBncm9zcyBpbmNvbWUgYmVmb3JlIHRheGVzXG5cdFx0ICogQHJldHVybiB7bnVtYmVyfSB0aGUgbmV0IGluY29tZSBhZnRlciB0YXhlc1xuXHRcdCAqL1xuXHRcdCRzY29wZS5nZXROZXRJbmNvbWUgPSBmdW5jdGlvbiAoc2FsYXJ5KSB7XG5cblx0XHRcdGNvbnN0IHRheEJyYWNrZXQgPSAkc2NvcGUuZ2V0VGF4QnJhY2tldChzYWxhcnkpO1xuXHRcdFx0bGV0IG5ldEluY29tZSA9IHNhbGFyeTtcblxuXHRcdFx0Ly8gRmlyc3QgQnJhY2tldFxuXHRcdFx0aWYgKHRheEJyYWNrZXQgPT09IDEpIHtcblx0XHRcdFx0bmV0SW5jb21lIC09IHNhbGFyeSAqIEZJUlNUX1RBWDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2Vjb25kIEJyYWNrZXRcblx0XHRcdGVsc2UgaWYgKHRheEJyYWNrZXQgPT09IDIpIHtcblx0XHRcdFx0bmV0SW5jb21lIC09IEZJUlNUX0JSQUNLRVQgKiBGSVJTVF9UQVg7XG5cdFx0XHRcdG5ldEluY29tZSAtPSAoc2FsYXJ5IC0gRklSU1RfQlJBQ0tFVCkgKiBTRUNPTkRfVEFYO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGlyZCBCcmFja2V0XG5cdFx0XHRlbHNlIGlmICh0YXhCcmFja2V0ID09PSAzKSB7XG5cdFx0XHRcdG5ldEluY29tZSAtPSBGSVJTVF9CUkFDS0VUICogRklSU1RfVEFYO1xuXHRcdFx0XHRuZXRJbmNvbWUgLT0gKFNFQ09ORF9CUkFDS0VUIC0gRklSU1RfQlJBQ0tFVCkgKiBTRUNPTkRfVEFYO1xuXHRcdFx0XHRuZXRJbmNvbWUgLT0gKHNhbGFyeSAtIFNFQ09ORF9CUkFDS0VUKSAqIFRISVJEX1RBWDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm91cnRoIEJyYWNrZXRcblx0XHRcdGVsc2UgaWYgKHRheEJyYWNrZXQgPT09IDQpIHtcblx0XHRcdFx0bmV0SW5jb21lIC09IEZJUlNUX0JSQUNLRVQgKiBGSVJTVF9UQVg7XG5cdFx0XHRcdG5ldEluY29tZSAtPSAoU0VDT05EX0JSQUNLRVQgLSBGSVJTVF9CUkFDS0VUKSAqIFNFQ09ORF9UQVg7XG5cdFx0XHRcdG5ldEluY29tZSAtPSAoVEhJUkRfQlJBQ0tFVCAtIFNFQ09ORF9CUkFDS0VUKSAqIFRISVJEX1RBWDtcblx0XHRcdFx0bmV0SW5jb21lIC09IChzYWxhcnkgLSBUSElSRF9CUkFDS0VUKSAqIEZPVVJUSF9UQVg7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZpZnRoIEJyYWNrZXRcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRuZXRJbmNvbWUgLT0gRklSU1RfQlJBQ0tFVCAqIEZJUlNUX1RBWDtcblx0XHRcdFx0bmV0SW5jb21lIC09IChTRUNPTkRfQlJBQ0tFVCAtIEZJUlNUX0JSQUNLRVQpICogU0VDT05EX1RBWDtcblx0XHRcdFx0bmV0SW5jb21lIC09IChUSElSRF9CUkFDS0VUIC0gU0VDT05EX0JSQUNLRVQpICogVEhJUkRfVEFYO1xuXHRcdFx0XHRuZXRJbmNvbWUgLT0gKEZPVVJUSF9CUkFDS0VUIC0gVEhJUkRfQlJBQ0tFVCkgKiBGT1VSVEhfVEFYO1xuXHRcdFx0XHRuZXRJbmNvbWUgLT0gKHNhbGFyeSAtIEZPVVJUSF9CUkFDS0VUKSAqIEZJRlRIX1RBWDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIENQUFxuXHRcdFx0bmV0SW5jb21lIC09IG5ldEluY29tZSAqIENQUF9UQVg7XG5cblx0XHRcdHJldHVybiBuZXRJbmNvbWU7XG5cblx0XHR9XG5cblx0fV1cblxufSk7XG4iLCJcInVzZSBzdHJpY3RcIjsiLCIvLyByb290IGNvbXBvbmVudFxuYnVkZ2V0TW9vc2UuY29tcG9uZW50KCdyb290Jywge1xuXHR0ZW1wbGF0ZVVybDogJy9hcHAvcm9vdC9yb290Lmh0bWwnLFxuXHRjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuXG5cblxuXHR9XVxufSk7IiwiLy8gdGF4IGNvbXBvbmVudFxuYnVkZ2V0TW9vc2UuY29tcG9uZW50KCd0YXgnLCB7XG5cdHRlbXBsYXRlVXJsOiAnL2FwcC90YXgvdGF4Lmh0bWwnLFxuXHRiaW5kaW5nczoge1xuXHRcdHRheEJyYWNrZXQ6ICc8Jyxcblx0XHR0YXhlc1BhaWQ6ICc8Jyxcblx0XHRuZXRJbmNvbWU6ICc8Jyxcblx0fSxcblx0Y29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG5cblx0XHQvLyBJbml0aWFsaXplIGJvdW5kIHByb3BlcnRpZXNcblx0XHR0aGlzLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcblx0XHRcdCRzY29wZS5uZXRJbmNvbWUgPSB0aGlzLm5ldEluY29tZTtcblx0XHRcdCRzY29wZS50YXhCcmFja2V0ID0gdGhpcy50YXhCcmFja2V0O1xuXHRcdFx0JHNjb3BlLnRheGVzUGFpZCA9IHRoaXMudGF4ZXNQYWlkO1xuXHRcdH1cblxuXHRcdC8vIFdhdGNoIGJvdW5kIHByb3BlcnRpZXNcblx0XHR0aGlzLiRvbkNoYW5nZXMgPSBmdW5jdGlvbihjaGFuZ2VzKSB7XG5cdFx0XHQkc2NvcGUubmV0SW5jb21lID0gY2hhbmdlcy5uZXRJbmNvbWUuY3VycmVudFZhbHVlO1xuXHRcdFx0JHNjb3BlLnRheEJyYWNrZXQgPSBjaGFuZ2VzLnRheEJyYWNrZXQuY3VycmVudFZhbHVlO1xuXHRcdFx0JHNjb3BlLnRheGVzUGFpZCA9IGNoYW5nZXMudGF4ZXNQYWlkLmN1cnJlbnRWYWx1ZTtcblx0XHR9XG5cblx0fV1cblxufSk7IiwiLy8gdGF4LnNlcnZpY2UuanMgY29udGFpbnMgYWxsIHRheC1yZWxhdGVkIGNvbnN0YW50c1xuXG4vLyBUYXggQnJhY2tldHNcbmNvbnN0IEZJUlNUX0JSQUNLRVQgPSA0NTkxNjtcbmNvbnN0IFNFQ09ORF9CUkFDS0VUID0gOTE4MzE7XG5jb25zdCBUSElSRF9CUkFDS0VUID0gMTQyMzUzO1xuY29uc3QgRk9VUlRIX0JSQUNLRVQgPSAyMDI4MDA7XG5cbi8vIEluY29tZSBUYXggUGVyY2VudGFnZXNcbmNvbnN0IEZJUlNUX1RBWCA9IC4xNTtcbmNvbnN0IFNFQ09ORF9UQVggPSAuMjA1O1xuY29uc3QgVEhJUkRfVEFYID0gLjI2O1xuY29uc3QgRk9VUlRIX1RBWCA9IC4yOTtcbmNvbnN0IEZJRlRIX1RBWCA9IC4zMztcblxuLy8gQ2FuYWRhIFBlbnNpb24gUGxhblxuY29uc3QgQ1BQX1RBWCA9IC4wNDk1OyJdfQ==
